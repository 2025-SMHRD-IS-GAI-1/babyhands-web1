@charset "UTF-8";

/* ====================================
   Card Common (캘린더/KPI 공통 스타일)
   ==================================== */
.card {
    background:var(--container-bg);
    border:1px solid var(--border-color);
    border-radius:1.5rem; 
    padding:20px;
    box-shadow:0 0 15px rgba(0,0,0,0.05); 
}
.card__title {
    margin-bottom:12px;
    font-size:28px;
    font-weight:800;
    text-align:center;
    color:var(--text-dark);
}

/* =======================================================
   --- 메인 레이아웃 Grid 설정 (main.css 전용) ---
   ======================================================= */

/* [수정] Grid Container 역할을 할 새로운 래퍼 */
.main-content-grid {
    display: grid;
    
    /* grid-template-columns 정의: 캘린더 (7fr) | KPI (3fr) */
    grid-template-columns: 7fr 3fr; 
    
    gap: 1.5rem; /* gap 증가 */
    
    flex-grow: 1; /* 부모(.container)의 남은 공간을 모두 차지 */
}

/* 캘린더 섹션 (왼쪽 7fr) */
.calendar-section {
    /* .card 스타일은 JSP에서 클래스로 적용됨 */
    min-height: 100%;
}

/* KPI 래퍼 (오른쪽 3fr) */
.kpi-wrap {
    display: flex;
    flex-direction: column; 
    gap: 0; 
    align-items: stretch; 
    justify-content: space-between; 
    
    /* Grid Item에도 .card 스타일을 적용하는 경우를 대비해 래퍼에도 border/shadow 적용 */
    border: 1px solid var(--border-color); 
    box-shadow: 0 0 15px rgba(0,0,0,0.05);
    background-color: var(--container-bg); 
    border-radius: 1.5rem; 
    overflow: hidden; 
}

/* kpi-wrap 내부의 개별 KPI 카드 */
.kpi-wrap > .card.kpi:first-child { 
    flex: 1; 
    display: flex; 
    flex-direction: column;
    align-items: center;
    justify-content: center;
    border-bottom: 1px solid var(--border-color);
    border-radius: 0; 
    box-shadow: none; 
    padding: 20px; 
}
.kpi-wrap > .card.kpi:last-child { 
    flex: 1; 
    display: flex; 
    flex-direction: column;
    align-items: center;
    justify-content: center;
    border-radius: 0; 
    box-shadow: none; 
    padding: 20px; 
}

/* KPI 카드 내부 제목 스타일 */
.kpi-wrap .card__title {
    font-size: 1.8rem; 
    margin-bottom: 0.8rem; 
    text-align: center; 
}


/* =============================
   Calendar
   ============================= */
.calendar-section > .card__title {
    margin-bottom: 20px; 
    text-align: left; 
    padding-left: 5px; 
    font-size: 1.8rem; 
    font-weight: 700; 
}

.cal__titlebar{
    display:flex;
    justify-content:space-between;
    margin-bottom:1px;
    position:relative;
    padding-right: 10px; /* '오늘' 버튼 공간 확보 */
}
.today-btn {
    position:absolute;
    right:0; 
    top: 0; 
    height:32px;
    padding:0 14px;
    font-size:16px;
    background:var(--primary-color);
    color:#fff;
    border-radius:8px;
    border: none; 
    cursor: pointer;
}

/* 상단 (월 네비게이션) */
.cal__header {
    display:flex;
    justify-content:space-between;
    align-items: center; 
    background: var(--light-gray-bg);
    border:1px solid var(--border-color);
    border-radius:14px;
    padding:10px 18px;
    margin-bottom:15px;
}
.cal__month {
    flex-grow:1;
    text-align:center;
    font-weight:900;
    font-size:clamp(20px, 1.8vw, 24px); 
    color: var(--text-dark); 
}
.icon-btn {
    width:30px;
    height:30px;
    border-radius:10px;
    background:#fff;
    border:1px solid var(--border-color);
    display:grid;
    place-items:center;
    cursor: pointer;
    flex-shrink: 0; 
}
.chev{
    width:10px; height:10px;
    border:2px solid var(--primary-color); 
    border-left:0; border-top:0;
    transform: rotate(45deg); display: block; 
}
.chev--left{ transform: rotate(-135deg) }
.chev--right{ transform: rotate(45deg) }


/* 요일 */
.cal__week {
    display:grid;
    grid-template-columns:repeat(7,1fr);
    margin:30px 0 25px;
    color: var(--text-dark); 
    font-weight: 700; 
}
.cal__week span {
    width:35px; 
    height:35px; 
    border-radius:50%;
    background:none; 
    display:flex;
    align-items:center;
    justify-content:center;
}
.cal__week .sun { background:none; color:#f2410d; } 


/* 날짜 */
.cal__grid {
    display:grid;
    grid-template-columns:repeat(7,1fr);
    gap:10px;
}
.cal__grid button, .cal__grid span {
    height:50px;
    border-radius:10px;
    background:#fff;
    border:1px solid var(--border-color);
    display:flex;
    align-items:center;
    justify-content:center;
    font-size: 1rem; 
    color: var(--text-dark); 
    font-weight: 500;
    cursor: pointer;
    position: relative; 
}

/* 출석 체크 */
.cal__grid .check {
    background:var(--check-bg);
    border-color:var(--check-border);
    color:var(--primary-color); 
    font-weight: 700; 
}
.cal__grid .check::after{
    content:"✔";                         
    position:absolute; left:50%; top:50%;
    transform:translate(-50%,-50%);      
    font-size:clamp(20px,2vw,28px);    
    color:var(--primary-color);       
    font-weight:900; line-height:1;
    text-shadow:0 1px 0 rgba(0,0,0,0.05);
    pointer-events:none;
    z-index: 2; 
}

/* 오늘 */
.cal__grid button.today {
    background:var(--check-bg);
    border-color:var(--primary-color);
    box-shadow:0 0 0 3px rgba(122,92,245,.1);
    font-weight: 700; 
    color: var(--primary-color);
}

/* =============================
   KPI Donut
   ============================= */
.donut {
    --percent:80; 
    width:190px;
    height:190px;
    position:relative;
    display:flex;
    align-items:center;
    justify-content:center;
    margin-top: 20px; 
    z-index: 1; 
}
.donut__ring {
    position:absolute;
    inset:0;
    border-radius:50%;
    
    background:conic-gradient(
        var(--primary-color) calc(var(--percent) * 1%),
        var(--donut-bg) 0%
    );
    
    mask: radial-gradient(farthest-side, transparent calc(75% - 2px), #000 0); 
    filter: drop-shadow(0 4px 8px rgba(109, 91, 255, .12)) blur(0);
    z-index: -1; 
}
.donut__label {
    font-size:clamp(28px, 3vw, 38px); 
    font-weight:900;
    color:var(--text-dark); 
    text-align: center;
    white-space: nowrap;
    transform: translateY(2px); 
    line-height: 1; 
    z-index: 1; 
}


/* =======================================================
   --- Responsive (main.css 전용 그리드 및 컴포넌트) ---
   ======================================================= */

/** 1. 태블릿/중간 해상도 (Max 1200px): 캘린더와 KPI 영역 1열 스택 **/
@media (max-width:1200px){
    .main-content-grid { /* [수정] .container -> .main-content-grid */
        grid-template-columns: 1fr; /* 전체 콘텐츠 1열로 변경 */
        gap: 20px; 
    }
    .kpi-wrap {
        flex-direction: row; 
        flex-wrap: wrap; 
        justify-content: center; 
        border: 1px solid var(--border-color); 
        box-shadow: 0 0 15px rgba(0,0,0,0.05); 
        border-radius: 1.5rem; 
        overflow: hidden; 
        padding: 0; 
    }
    .kpi-wrap > .card.kpi {
        flex: 1 1 calc(50% - 10px); 
        max-width: calc(50% - 10px);
        border: none; 
        box-shadow: none; 
        border-radius: 0;
    }
    .kpi-wrap > .card.kpi:first-child {
        border-bottom: none; 
        border-right: 1px solid var(--border-color); 
    }
    /* 도넛 차트 크기 조정 */
    .donut {
        width: 160px; 
        height: 160px;
    }
    .donut__label {
        font-size: clamp(24px, 2.5vw, 32px); 
    }
}

/** 2. 모바일/좁은 해상도 (Max 768px): 모든 KPI 카드 1열 스택 **/
@media (max-width:768px){
    .kpi-wrap {
        flex-direction: column; 
        gap: 0; 
    }
    .kpi-wrap > .card.kpi {
        flex: 1 1 100%; 
        max-width: 100%;
        border-right: none; 
    }
    .kpi-wrap > .card.kpi:first-child {
        border-bottom: 1px solid var(--border-color); 
    }
    /* 도넛 차트 크기 조정 */
    .donut {
        width: 140px; 
        height: 140px;
    }
    .donut__label {
        font-size: clamp(22px, 2.2vw, 28px); 
    }
}

/** 3. 가장 좁은 화면 (Max 640px) **/
@media (max-width:640px){
    /* 캘린더 요소 크기 조정 */
    .cal__week span {
        width:30px; 
        height:30px;
        font-size: 0.9rem;
    }
    .cal__grid button, .cal__grid span {
        height:45px;
        font-size: 0.9rem;
    }
    .cal__grid .check::after {
        font-size: clamp(18px, 1.8vw, 24px);
    }
    .calendar-section > .card__title {
        font-size: 1.5rem;
        margin-bottom: 15px;
    }
    .cal__month {
        font-size: clamp(18px, 2.5vw, 22px);
    }
}