/* 화면 크기에 맞춰서 자동으로 변하기 */
:root {
	--nav-font: clamp(16px, 2.2vw, 35px); /* 네비 글씨 크기 */
	--brand-font: clamp(24px, 4vw, 60px); /* 브랜드 글씨 크기 */
	--logo-size: clamp(38px, 4.5vw, 66px); /* 로고 크기 */
	--nav-gap: clamp(28px, 6vw, 200px); /* 네비 메뉴 간격 */
	--user-font: clamp(14px, 1.8vw, 30px); /* 우측 사용자 글씨 */
	--btn-font: clamp(13px, 1.7vw, 25px); /* 버튼 글씨 */
	--header-height: clamp(72px, 10vw, 180px); /* 헤더 높이 */
    
    /* KPI/Calendar에서 사용되는 색상 변수 추가 (필요 시) */
    --primary-color: #7a5cf5;
    --border-color: #e8eef6;
    --container-bg: #fff;
}

* {
	box-sizing: border-box
} /* 기본 박스 모델 */
html, body {
	margin: 0;
	padding: 0
} /* 브라우저 여백 없애기 */

/* 폰트 설정 및 기본 스타일 (오류 발생 부분 수정/통합됨) */
body {
	/* 폰트 설정 */
	font-family: "Pretendard", "Noto Sans KR", system-ui, -apple-system,
		Segoe UI, Roboto, sans-serif;
    
    /* 배경 설정: 두 개의 배경 설정을 후자로 통합. 그라디언트 삭제됨. */
	/* background: linear-gradient(180deg, #eef5ff, #f7fbff); */
	background-color: #f4f7f6;
    
    /* 글자색 설정: 후자로 통합 */
	color: #333; /* 최종 글자색 */

    /* 레이아웃 설정 */
	min-height: 100vh;
	margin: 0;
	padding: 0; 
	display: flex;
	justify-content: center;
	align-items: center;
}


/* 카드 스타일 */
.card {
	background: #fff; /* 흰 배경 */
	border: 1px solid #e8eef6; /* 옅은 테두리 */
	border-radius: 18px; /* 둥근 모서리 */
	padding: 22px; /* 안쪽 여백 */
	box-shadow: 0 6px 18px rgba(45, 61, 89, .06); /* 그림자 */
}

/* 카드 제목 */
.card__title {
	margin: 0 0 12px;
	font-size: 30px;
	font-weight: 800
}

/* 꼬마손 */
.brand {
	font-size: var(--brand-font);
	font-weight: 900
}

/* 네비게이션 바 메뉴부분  */
.nav {
	display: flex;
	justify-content: center;
	align-items: center; /* 가운데 설정 */
	gap: var(--nav-gap); /* 반응형 */
	font-weight: 700;
	flex-wrap: nowrap; /* 화면 줄어들면 아래로 내리기 */
}

/* 메뉴 링크 공통 */
.nav a {
	color: #21304b;
	text-decoration: none;
	opacity: .9; /* 기본 색/투명도 */
	font-size: var(--nav-font); /* 글씨 크기(반응형) */
	line-height: 1;
	padding: 6px 2px; /* 클릭 영역 확보 */
	transition: .2s ease; /* hover 애니메이션 */
}

.nav a:hover {
	opacity: 1;
	color: #7a5cf5;
	transform: translateY(-1px)
} /* hover 효과 */

/* 우측 사용자 영역(절대 위치) */

/* 사용자 이름 부분 */
.user {
	position: absolute;
	right: 40px; /* 우측 고정 */
	display: flex;
	align-items: center;
	gap: clamp(12px, 2vw, 40px); /* 간격(반응형) */
	color: #6b778c;
	font-weight: 700;
	font-size: var(--user-font); /* 글씨(반응형) */
}

/* 로그아웃 부분 */
.btn {
	padding: 8px 16px; /* 내부 여백 */
	border-radius: 12px;
	border: 0;
	cursor: pointer; /* 기본 스타일 */
	font-weight: 700;
	font-size: var(--btn-font); /* 글씨(반응형) */
	transition: .2s ease; /* hover 애니메이션 */
}
/* 로그아웃 부분 */
.btn--primary {
	background: #7a5cf5;
	color: #fff
} /* 기본 색 */
.btn--primary:hover {
	filter: brightness(.95)
} /* hover 밝기 */

/* ===========================
   Layout (content area)
   =========================== */
.container {
	max-width: 2500px; /* 화면 전체에서 너무 넓지 않게 제한 */
	width: 90%; /* 브라우저 폭의 90%만 사용 (양쪽 여백 확보) */
	margin: 80px auto; /* 위아래 여백 + 중앙 정렬 */
	padding: 20px 32px; /* 내부 여백(좌우 살짝 띄움) */
	display: grid; /* 2열 구조 */
	grid-template-columns: 1.3fr 1fr; /* 왼쪽이 조금 더 넓게 */
	gap: 60px; /* 두 섹션 사이 여백 */
	background: rgba(255, 255, 255, 0.5); /* 은은한 흰색 반투명 배경 */
	border-radius: 24px; /* 부드러운 모서리 */
	box-shadow: 0 8px 24px rgba(0, 0, 0, 0.05); /* 살짝 그림자 */
	box-sizing: border-box; /* 패딩 포함 계산 */
}

/* KPI 카드 묶음 (복잡한 중복 정의가 많음 - Grid와 Flex 스타일이 혼재) */
.kpi-wrap {
    /* 기존 Learn 테마 디자인 속성 (Grid 레이아웃에 포함) */
	min-height: 750px;
	max-width: 1400px;
	border: 1px solid var(--border-color, #dee2e6);
	width: 100%;
	height: 750px;
	background-color: #ffffff;
	border-radius: 1.5rem;
	box-shadow: 0 10px 30px rgba(0, 0, 0, 0.07);
	overflow-x: hidden;
	min-width: 320px;
	box-sizing: border-box;
	margin-top: auto;
	margin-bottom: auto;
	overflow: hidden;
	padding: 1.5rem 2.5rem;
	outline: 1px dashed red;
    
    /* Main 페이지의 Grid 레이아웃 (유효) */
	grid-area: kpi; /* Grid 영역 설정 */
	display: grid;
	grid-template-rows: auto 1fr; /* 1행(헤더), 2행(본문) */
	grid-template-areas: "header header" "calendar kpi";
	grid-template-columns: 1.3fr 1fr;
	gap: 10px;
    
    /* KPI 카드 묶음 스타일 (Flex를 통해 내부 요소 정렬) */
	display: flex; /* Grid 내에서 Flex 컨테이너로 동작 */
	flex-direction: column;
	justify-content: center; /* 세로 중앙 정렬 */
	gap: 5px;
	align-items: center;
}

/* 헤더 래퍼 스타일: 이중 구분선 제거 */
.main-header-area {
	grid-area: header;
	padding-bottom: 0;
	margin-bottom: 10px; /* 헤더와 본문 간격 */
	border-bottom: 1px solid var(--border-color);
	/* header.css 대신 여기서 구분선 정의 */
	display: block;
	width: 100%;
}

.calendar-section {
	grid-area: calendar;
}


/* ===========================
   Calendar
   =========================== */

/* 캘린더 래퍼 */
.cal {
	display: flex;
	flex-direction: column;
	gap: 12px
}

/* 출석 캘린더 제목줄 (제목 + 오늘버튼) */
.cal__titlebar {
    /* 아래 중복된 설정이 최종 적용됨 */
	position: relative;
	display: flex;
	align-items: center;
	justify-content: space-between;
	margin-bottom: 8px; /* 5px -> 8px로 최종 적용 */
}

/* 오늘 버튼 디자인 */
.today-btn {
	/* 이전 스타일 (일부 남음) */
	position: absolute; /* 이 스타일이 남아있는지 확인 필요 */
	top: 6px;
	right: 0;
	height: 32px;
	/* ... 나머지 스타일 ... */

    /* 최종 적용 스타일 (이전 스타일 덮어씀) */
	display: inline-flex;
	align-items: center;
	justify-content: center;
	height: 32px;
	padding: 0 12px;
	border-radius: 999px;
	border: 1px solid #dcdff7;
	background: #f4f5ff;
	color: #4950a8;
	font-weight: 800;
	text-decoration: none;
	font-size: 14px;
	transition: .18s ease;
    
    /* Hover/Active 스타일 유지 */
}

.today-btn:hover {
	filter: brightness(1.05);
	box-shadow: 0 2px 10px rgba(122, 92, 245, 0.18);
}

.today-btn:active {
	transform: translateY(1px);
}

/* 상단(월 네비게이션 바) */
.cal__header {
	display: flex;
	align-items: center;
	justify-content: space-between;
	background: #f7f9fe;
	border: 1px solid #e8eef6;
	border-radius: 12px;
	padding: 10px 12px;
}

.cal__month {
	font-weight: 900; /* 월 표기 가중치 ↑ */
	font-size: clamp(8px, 10vw, 35px); /* 월 글자 크기 반응형 */
	letter-spacing: .2px; /* 가독성 소폭 ↑ */
}

/* 이전/다음 버튼(작은 사각형) - 중복된 속성 정리 */
.icon-btn {
	width: 30px; /* 최종 값 */
	height: 30px; /* 최종 값 */
	border-radius: 10px; /* 최종 값 */
	background: var(--container-bg); 
	border: 1px solid var(--border-color);
	box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
	cursor: pointer;
	flex-shrink: 0;
	display: grid;
	place-items: center;
}

.chev {
	width: 10px;
	height: 10px;
	border: 2px solid #7a5cf5;
	border-left: 0;
	border-top: 0;
	transform: rotate(45deg)
}

.chev--left {
	transform: rotate(-135deg)
}

.chev--right {
	transform: rotate(45deg)
}

/* 요일 줄(월~일) — 동그라미 뱃지 - 중복된 스타일이 최종 적용 */
.cal__week {
	display: grid;
	grid-template-columns: repeat(7, 1fr);
	gap: 0; /* 30px -> 0px으로 최종 적용 */
	padding: 0; /* 0 4px -> 0으로 최종 적용 */
	margin-top: 30px; /* 최종 적용 */
	margin-bottom: 25px; /* 최종 적용 */
}

.cal__week span {
    /* 최종 적용 스타일 */
	justify-self: center;
	width: 35px;
	height: 35px;
	border-radius: 50%;
	background: #eff3f9;
	box-shadow: none;
	font-size: 1rem;
	font-weight: 700;
	text-align: center;
    /* Flex 속성은 Grid 속성에 의해 덮어쓰여짐 */
}

/* 일요일 색상 변경 - 중복된 스타일이 최종 적용 */
.cal__week .sun {
	background: #ffb3b3;
	color: #fff;
	font-weight: 900
}

.cal__week span:hover {
	background: #dde5f5;
	transform: scale(1.05)
}

.cal__week .sat {
	background: #e6eeff;
	color: #354fcf
}

/* 날짜 그리드 */
.cal__grid {
	display: grid;
	grid-template-columns: repeat(7, 1fr);
	gap: 20px;
	margin-top: 15px;
}

/* 날짜 셀(버튼/빈칸 공통) */
.cal__grid button, .cal__grid span {
	position: relative; 
	height: 60px;
	border-radius: 12px;
	border: 1px solid #e8eef6;
	background: #fff;
	color: #101827;
	display: flex;
	align-items: flex-start;
	justify-content: flex-start;
	padding: 10px 12px;
	font-weight: 700;
	font-size: clamp(20px, 1.2vw, 36px);
	letter-spacing: .1px;
}

/* hover 시 안쪽 보더 효과 */
.cal__grid button:hover {
	box-shadow: inset 0 0 0 2px #e8edff
}

/* 출석 체크된 날(연한 초록 배경) */
.cal__grid .check {
	background: #f1fff7;
	border-color: #aae1c2;
}

/* ✅ 체크 아이콘 — "칸 정중앙" 배치 */
.cal__grid .check::after {
	content: "✔";
	position: absolute;
	left: 50%;
	top: 50%;
	transform: translate(-50%, -50%);
	font-size: clamp(34px, 3.1vw, 44px);
	color: #22c55e;
	font-weight: 900;
	line-height: 1;
	text-shadow: 0 2px 0 rgba(0, 0, 0, 0.05);
	pointer-events: none;
}

/* 오늘 날짜 강조 */
.cal__grid button.today {
	position: relative;
	border-color: #cfd6ff;
	background: #eef2ff;
	color: #2b3a67;
	box-shadow: 0 0 0 3px rgba(122, 92, 245, .18);
}


/* ===========================
   KPI Donut
   =========================== */

/* ===== 레이아웃 간격(캘린더 ↔ KPI) ===== */
.container {
	gap: clamp(28px, 4vw, 48px); /* 화면 넓으면 여유, 줄면 촘촘 */
}

/* ===== KPI 스택 간격 & 카드 여백 ===== */
.kpi-wrap {
	display: flex;
	flex-direction: column; /* 기본은 세로(데스크톱 우측 스택) */
	align-items: center;
	gap: 24px; /* 기본 간격 */
}

/* 화면이 줄어서 캘린더 아래로 내려오고, 도넛을 가로로 나란히 배치할 때 */
@media ( max-width : 1024px) {
	.kpi-wrap {
		flex-direction: row; /* 가로 나란히 */
		justify-content: center; /* 가운데 몰기 */
		gap: clamp(8px, 1.8vw, 36px); /* 도넛-도넛 사이 간격 줄이기 */
	}
}

/* ===== 도넛 크기 & 느낌 ===== */
.kpi {
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: 14px
}

.donut {
	--percent: var(--data-percent, 80);
	--size: clamp(140px, 20vw, 180px);
	--thickness: clamp(5px, 1.2vw, 5px); /* 링 두께 최종값 */
	width: 190px;
	height: 190px; /* 고정 크기 */
	position: relative;
	/* Flexbox 중앙 정렬 유지 */
	display: flex;
	align-items: center; /* 수직 중앙 정렬 */
	justify-content: center; /* 수평 중앙 정렬 */
}

.donut__ring {
	position: absolute;
	inset: 0;
	border-radius: 50%;
	background: conic-gradient(#7a5cf5 calc(var(--percent)*1%), #e6e9f0 0);
	-webkit-mask: radial-gradient(farthest-side, transparent calc(50% - var(--thickness)),
		#000 0);
	mask: radial-gradient(farthest-side, transparent calc(50% - var(--thickness)),
		#000 0);
	filter: drop-shadow(0 4px 8px rgba(79, 70, 229, .12));
}

.donut__label {
	position: relative;
	font-size: clamp(24px, 2.3vw, 34px);
	font-weight: 900;
	color: #111827;
}

/* ===========================
   Responsive (Breakpoints) - 중첩된 미디어 쿼리 분리
   =========================== */

/* 1300px 이하: 네비 간격 살짝 줄임 */
@media ( max-width : 1300px) {
	.nav {
		gap: clamp(20px, 4vw, 80px)
	}
	.container {
		grid-template-columns: 1fr; /* 1열 레이아웃 전환 */
	}
	/* 모바일 뷰 전환: kpi-wrap을 가로로 */
	.kpi-wrap {
		flex-direction: row;
		justify-content: center;
	}
}

/* 1024px 이하: 로고/좌우 여백 축소 및 모바일 레이아웃 조정 */
@media ( max-width : 1024px) {
	/* .container의 2열 -> 1열 전환은 1300px에서 이미 발생 */
	.container {
		grid-template-columns: 1fr;
		/* 모바일 grid-area 재정의 */
		grid-template-areas: "header" "calendar" "kpi"; 
		gap: 40px;
		padding: 1rem 1.5rem;
		border-radius: 1rem;
		margin: 1rem auto;
	}
	body {
		padding: 0; 
	}
	.kpi-wrap {
		flex-direction: row; /* 가로 정렬 */
		flex-wrap: wrap;
		justify-content: center;
	}
	.kpi-wrap > .card {
		flex: 1 1 45%;
		min-width: 250px;
		align-items: center;
		max-width: none;
	}
	.cal__grid {
		gap: 8px;
	}
	.card__title {
		font-size: 1.8rem;
	}
    /* 로고/좌우 여백 축소 */
	.logo-area { /* 이 선택자는 HTML/다른 CSS 파일에 정의되어 있을 수 있음 */
		left: 24px
	} 
	.user {
		right: 24px
	} 
	.nav {
		gap: clamp(16px, 3.5vw, 56px)
	} 
}

/* 820px 이하: 메뉴 자동 줄바꿈 허용 */
@media ( max-width : 820px) {
	.nav {
		flex-wrap: wrap;
		row-gap: 8px;
		column-gap: 24px
	}
	.header { /* 이 선택자는 HTML/다른 CSS 파일에 정의되어 있을 수 있음 */
		padding: 12px 20px
	} 
}

/* 640px 이하: 사용자 이름 숨기고 버튼만 */
@media ( max-width : 640px) {
	.user span {
		display: none
	}
	.user {
		gap: 8px
	}
}